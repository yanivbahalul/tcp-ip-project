<h1>תוצרים</h1>

<h2>1. קבצי הקוד המלאים</h2>
<h3>קבצי השרת (Server)</h3>
<h4>1.1 <code>server.py</code> - שרת בסיסי (Threading)</h4>
<p>קובץ שרת בסיסי שמשתמש ב-threading לטיפול במספר לקוחות. השרת מטפל בקשרים מרובים באמצעות threads נפרדים.</p>
<p><strong>מיקום:</strong> <code>prt2/server.py</code></p>
<p><strong>תכונות עיקריות:</strong><br />
- טיפול במספר לקוחות בו-זמנית<br />
- הודעת ברוכים הבאים לכל לקוח<br />
- החזרת הודעות באותיות גדולות (uppercase)<br />
- לוגים של כל פעילות</p>
<hr />
<h4>1.2 <code>async_impl/server_async.py</code> - שרת אסינכרוני</h4>
<p>קובץ השרת המתקדם שמשתמש ב-asyncio לטיפול יעיל במספר רב של לקוחות. זהו השרת שמשמש גם את ממשק המשתמש הגרפי.</p>
<p><strong>מיקום:</strong> <code>prt2/async_impl/server_async.py</code></p>
<p><strong>תכונות עיקריות:</strong><br />
- טיפול אסינכרוני בלקוחות<br />
- ניהול שמות לקוחות (validation מחמיר - אורך, תווים אסורים, שמות ייחודיים)<br />
- מערכת צ'אט בין לקוחות (<code>CONNECT:name</code>, <code>DISCONNECT_CHAT</code>)<br />
- מערכת קבוצות מלאה (<code>CREATE_GROUP:name</code>, <code>JOIN_GROUP:name</code>, <code>LEAVE_GROUP:name</code>, <code>INVITE_TO_GROUP:group_name:user_name</code>)<br />
- הודעות קבוצתיות (<code>GROUP:group_name:message</code>)<br />
- רשימת משתמשים וקבוצות (<code>LIST_USERS</code>, <code>LIST_GROUPS</code>)<br />
- התראות על חיבורים ועדכונים (<code>USER_CONNECTED</code>, <code>GROUP_UPDATED</code>)<br />
- הגבלת קצב הודעות (rate limiting)<br />
- בדיקת גודל הודעות (MAX_MESSAGE_SIZE)<br />
- לוגים מפורטים של כל ההודעות (עם דילוג על LIST_USERS/LIST_GROUPS)<br />
- סטטיסטיקות בזמן אמת<br />
- ייצוא לוגים ל-JSON<br />
- טיפול מתקדם בשגיאות וניתוקים</p>
<p><strong>מבנה הנתונים בשרת:</strong><br />
- <code>connected_clients</code> - קבוצה של כל הלקוחות המחוברים<br />
- <code>client_info</code> - מילון עם פרטי כל לקוח (כתובת, שם, זמן חיבור, סטטיסטיקות, קבוצות)<br />
- <code>clients_by_name</code> - מיפוי שם לקוח לכתובת<br />
- <code>client_chats</code> - זוגות לקוחות שמנהלים צ'אט<br />
- <code>groups</code> - מילון של קבוצות (שם קבוצה -> קבוצת לקוחות)<br />
- <code>client_groups</code> - מיפוי לקוח לקבוצות שהוא חבר בהן<br />
- <code>message_log</code> - רשימה של כל ההודעות שהשרת טיפל בהן<br />
- <code>client_rate_limits</code> - מעקב אחר קצב ההודעות של כל לקוח</p>
<hr />
<h3>קבצי הלקוח (Client)</h3>
<h4>1.3 <code>client.py</code> - לקוח בסיסי</h4>
<p>קובץ לקוח בסיסי שקורא נתונים מקובץ CSV ושולח אותם לשרת.</p>
<p><strong>מיקום:</strong> <code>prt2/client.py</code></p>
<p><strong>תכונות עיקריות:</strong><br />
- חיבור לשרת<br />
- קריאה מקובץ CSV<br />
- שליחת הודעות מהקובץ<br />
- הדפסת תגובות מהשרת</p>
<hr />
<h4>1.4 <code>async_impl/client_async.py</code> - לקוח אסינכרוני</h4>
<p>קובץ הלקוח האסינכרוני שמשתמש ב-asyncio. מיועד לשליחת הודעות מקובץ CSV לשרת. משמש גם את ממשק המשתמש הגרפי.</p>
<p><strong>מיקום:</strong> <code>prt2/async_impl/client_async.py</code></p>
<p><strong>תכונות עיקריות:</strong><br />
- חיבור אסינכרוני לשרת<br />
- שליחת הודעות בודדות לשרת<br />
- שליחת הודעות מקובץ CSV<br />
- רישום כל ההודעות שנשלחו והתקבלו<br />
- סטטיסטיקות<br />
- ייצוא לוגים ל-JSON</p>
<hr />
<h4>1.5 <code>async_impl/client_chat.py</code> - לקוח צ'אט אינטראקטיבי</h4>
<p>קובץ לקוח מיוחד לניהול צ'אט אינטראקטיבי עם לקוחות אחרים דרך השרת.</p>
<p><strong>מיקום:</strong> <code>prt2/async_impl/client_chat.py</code></p>
<p><strong>תכונות עיקריות:</strong><br />
- חיבור לשרת עם שם<br />
- פקודת <code>CONNECT:name</code> לחיבור עם לקוח אחר<br />
- שליחת הודעות בזמן אמת<br />
- קבלת הודעות בזמן אמת</p>
<hr />
<h3>קבצי ממשק המשתמש הגרפי (GUI)</h3>
<h4>1.6 <code>gui/server_gui.py</code> - ממשק גרפי לשרת</h4>
<p>ממשק גרפי מלא לניהול השרת באמצעות Tkinter.</p>
<p><strong>מיקום:</strong> <code>prt2/gui/server_gui.py</code></p>
<p><strong>תכונות עיקריות:</strong><br />
- הפעלה ועצירה של השרת<br />
- הגדרת host ו-port<br />
- תצוגת סטטוס השרת<br />
- רשימת לקוחות מחוברים עם פרטים מלאים<br />
- סטטיסטיקות בזמן אמת<br />
- לוגים בזמן אמת<br />
- ייצוא לוגים וסטטיסטיקות ל-JSON</p>
<hr />
<h4>1.7 <code>gui/client_gui.py</code> - ממשק גרפי ללקוח</h4>
<p>ממשק גרפי מלא לניהול הלקוח באמצעות Tkinter עם תמיכה מלאה בצ'אט פרטי וקבוצתי.</p>
<p><strong>מיקום:</strong> <code>prt2/gui/client_gui.py</code></p>
<p><strong>תכונות עיקריות:</strong><br />
- חיבור לשרת עם שם (עם validation)<br />
- רשימת משתמשים מחוברים (עם רענון אוטומטי)<br />
- רשימת קבוצות (עם רענון אוטומטי)<br />
- צ'אט פרטי עם משתמשים (חלונות נפרדים לכל צ'אט)<br />
- צ'אט קבוצתי (חלונות נפרדים לכל קבוצה)<br />
- יצירת קבוצות חדשות<br />
- הצטרפות לקבוצות קיימות<br />
- הזמנת משתמשים לקבוצות<br />
- יציאה מקבוצות<br />
- בחירת קובץ CSV ושליחת כל ההודעות<br />
- שליחת הודעות בודדות<br />
- תצוגת כל ההודעות והתגובות<br />
- התראות קוליות על הודעות חדשות (דורש playsound)<br />
- סטטיסטיקות וגרפים (דורש matplotlib)<br />
- ייצוא לוגים וסטטיסטיקות<br />
- עיצוב מודרני עם תמיכה בערכת נושא כהה</p>
<hr />
<h3>קבצי תמיכה (Utils)</h3>
<h4>1.8 <code>utils/config.py</code> - ניהול הגדרות</h4>
<p>קובץ לניהול כל ההגדרות של השרת והלקוח.</p>
<p><strong>מיקום:</strong> <code>prt2/utils/config.py</code></p>
<p><strong>הגדרות:</strong><br />
- כתובת ופורט של השרת והלקוח<br />
- מגבלות הודעות (גודל מקסימלי, timeout)<br />
- הגדרות rate limiting<br />
- הגדרות לוגים</p>
<hr />
<h4>1.9 <code>utils/config.json</code> - קובץ הגדרות</h4>
<p>קובץ JSON עם כל ההגדרות. הקובץ נוצר אוטומטית אם הוא לא קיים.</p>
<p><strong>מיקום:</strong> <code>prt2/utils/config.json</code></p>
<hr />
<h4>1.10 <code>utils/logger.py</code> - מערכת לוגים</h4>
<p>קובץ לניהול מערכת הלוגים של השרת.</p>
<p><strong>מיקום:</strong> <code>prt2/utils/logger.py</code></p>
<p><strong>תכונות:</strong><br />
- רמות לוג שונות (DEBUG, INFO, WARNING, ERROR, CRITICAL)<br />
- לוגים לקונסול<br />
- אפשרות לוגים לקובץ (אופציונלי)</p>
<hr />
<h3>קבצים נוספים</h3>
<h4>1.11 <code>async_impl/__init__.py</code></h4>
<p>קובץ init של החבילה async_impl.</p>
<hr />
<h4>1.12 <code>gui/__init__.py</code></h4>
<p>קובץ init של החבילה gui.</p>
<hr />
<h4>1.13 <code>utils/__init__.py</code></h4>
<p>קובץ init של החבילה utils.</p>
<hr />
<h4>1.14 <code>tests/test_server.py</code></h4>
<p>קובץ בדיקות לשרת (אופציונלי).</p>
<hr />
<h2>2. מבנה בסיס הנתונים</h2>
<p><strong>חשוב:</strong> הפרויקט לא משתמש בבסיס נתונים מסורתי. כל הנתונים נשמרים בזיכרון (in-memory) במבני נתונים של Python.</p>
<h3>מבני הנתונים בשרת (<code>server_async.py</code>)</h3>
<p>השרת משתמש במספר מבני נתונים בזיכרון:</p>
<h4>2.1 <code>connected_clients</code> (Set)</h4>
<p>קבוצה של כל הלקוחות המחוברים.<br />
- <strong>טיפוס:</strong> <code>Set[asyncio.StreamWriter]</code><br />
- <strong>תוכן:</strong> כל ה-StreamWriter של הלקוחות המחוברים</p>
<hr />
<h4>2.2 <code>client_info</code> (Dictionary)</h4>
<p>מילון שמכיל מידע מפורט על כל לקוח.<br />
- <strong>טיפוס:</strong> <code>Dict[asyncio.StreamWriter, dict]</code><br />
- <strong>מפתח:</strong> StreamWriter של הלקוח<br />
- <strong>ערך (dict):</strong><br />
  - <code>address</code>: tuple של (IP, port)<br />
  - <code>client_id</code>: מחרוזת מזהה ייחודי (IP:port)<br />
  - <code>name</code>: שם הלקוח (string או None)<br />
  - <code>connected_at</code>: זמן החיבור (ISO format string)<br />
  - <code>messages_sent</code>: מספר הודעות שנשלחו<br />
  - <code>messages_received</code>: מספר הודעות שהתקבלו<br />
  - <code>chat_partner</code>: StreamWriter של שותף הצ'אט (או None)<br />
  - <code>groups</code>: קבוצה של שמות הקבוצות שהלקוח חבר בהן</p>
<p><strong>דוגמה:</strong></p>
<pre><code class="language-python">{
    writer: {
        'address': ('192.168.0.106', 54321),
        'client_id': '192.168.0.106:54321',
        'name': 'Alice',
        'connected_at': '2026-01-02T10:30:45.123456',
        'messages_sent': 15,
        'messages_received': 12,
        'chat_partner': partner_writer
    }
}
</code></pre>
<hr />
<h4>2.3 <code>clients_by_name</code> (Dictionary)</h4>
<p>מיפוי שם לקוח לכתובת החיבור שלו.<br />
- <strong>טיפוס:</strong> <code>Dict[str, asyncio.StreamWriter]</code><br />
- <strong>מפתח:</strong> שם הלקוח (string)<br />
- <strong>ערך:</strong> StreamWriter של הלקוח</p>
<p><strong>דוגמה:</strong></p>
<pre><code class="language-python">{
    'Alice': writer1,
    'Bob': writer2,
    'Charlie': writer3
}
</code></pre>
<hr />
<h4>2.4 <code>client_chats</code> (Dictionary)</h4>
<p>מיפוי לקוח לשותף הצ'אט שלו.<br />
- <strong>טיפוס:</strong> <code>Dict[asyncio.StreamWriter, asyncio.StreamWriter]</code><br />
- <strong>מפתח:</strong> StreamWriter של לקוח אחד<br />
- <strong>ערך:</strong> StreamWriter של השותף לצ'אט</p>
<p><strong>דוגמה:</strong></p>
<pre><code class="language-python">{
    writer1: writer2,  # Alice בצ'אט עם Bob
    writer2: writer1   # Bob בצ'אט עם Alice
}
</code></pre>
<hr />
<h4>2.5 <code>groups</code> (Dictionary)</h4>
<p>מילון של כל הקבוצות והחברים בהן.<br />
- <strong>טיפוס:</strong> <code>Dict[str, Set[asyncio.StreamWriter]]</code><br />
- <strong>מפתח:</strong> שם הקבוצה (string)<br />
- <strong>ערך:</strong> קבוצה של StreamWriter של כל החברים בקבוצה</p>
<p><strong>דוגמה:</strong></p>
<pre><code class="language-python">{
    'team_alpha': {writer1, writer2, writer3},
    'team_beta': {writer2, writer4}
}
</code></pre>
<hr />
<h4>2.6 <code>client_groups</code> (Dictionary)</h4>
<p>מיפוי לקוח לקבוצות שהוא חבר בהן.<br />
- <strong>טיפוס:</strong> <code>Dict[asyncio.StreamWriter, Set[str]]</code><br />
- <strong>מפתח:</strong> StreamWriter של הלקוח<br />
- <strong>ערך:</strong> קבוצה של שמות הקבוצות שהלקוח חבר בהן</p>
<p><strong>דוגמה:</strong></p>
<pre><code class="language-python">{
    writer1: {'team_alpha', 'team_beta'},
    writer2: {'team_alpha'}
}
</code></pre>
<hr />
<h4>2.7 <code>message_log</code> (List)</h4>
<p>רשימה של כל ההודעות שהשרת טיפל בהן.<br />
- <strong>טיפוס:</strong> <code>List[dict]</code><br />
- <strong>כל פריט (dict):</strong><br />
  - <code>timestamp</code>: זמן ההודעה (ISO format string)<br />
  - <code>client_id</code>: מזהה הלקוח<br />
  - <code>client_name</code>: שם הלקוח<br />
  - <code>direction</code>: 'received' או 'sent'<br />
  - <code>message</code>: תוכן ההודעה</p>
<p><strong>דוגמה:</strong></p>
<pre><code class="language-python">[
    {
        'timestamp': '2026-01-02T10:30:45.123456',
        'client_id': '192.168.0.106:54321',
        'client_name': 'Alice',
        'direction': 'received',
        'message': 'Hello!'
    },
    {
        'timestamp': '2026-01-02T10:30:46.789012',
        'client_id': '192.168.0.106:54321',
        'client_name': 'Alice',
        'direction': 'sent',
        'message': 'SERVER RECEIVED HELLO!'
    }
]
</code></pre>
<hr />
<h4>2.8 <code>client_rate_limits</code> (Dictionary)</h4>
<p>מילון למעקב אחר קצב ההודעות של כל לקוח (rate limiting).<br />
- <strong>טיפוס:</strong> <code>Dict[asyncio.StreamWriter, deque]</code><br />
- <strong>מפתח:</strong> StreamWriter של הלקוח<br />
- <strong>ערך:</strong> deque עם timestamps של ההודעות האחרונות</p>
<hr />
<h3>מבני הנתונים בלקוח (<code>client_async.py</code>)</h3>
<h4>2.7 <code>message_log</code> (List)</h4>
<p>רשימה של כל ההודעות שנשלחו והתקבלו על ידי הלקוח.<br />
- <strong>טיפוס:</strong> <code>List[dict]</code><br />
- <strong>כל פריט (dict):</strong><br />
  - <code>timestamp</code>: זמן ההודעה (ISO format string)<br />
  - <code>msg_id</code>: מזהה ההודעה (אם נשלח מ-CSV)<br />
  - <code>direction</code>: 'sent', 'received', או 'error'<br />
  - <code>message</code>: תוכן ההודעה או הודעת שגיאה</p>
<p><strong>דוגמה:</strong></p>
<pre><code class="language-python">[
    {
        'timestamp': '2026-01-02T10:30:45.123456',
        'msg_id': 1,
        'direction': 'sent',
        'message': 'Hello server!'
    },
    {
        'timestamp': '2026-01-02T10:30:45.234567',
        'msg_id': 1,
        'direction': 'received',
        'message': 'SERVER RECEIVED HELLO SERVER!'
    }
]
</code></pre>
<hr />
<h3>הערות חשובות על אחסון הנתונים</h3>
<ol>
<li><strong>כל הנתונים נשמרים בזיכרון בלבד</strong> - כשהשרת נסגר, כל הנתונים נעלמים</li>
<li><strong>לא קיים בסיס נתונים</strong> - לא משתמשים ב-SQLite, MySQL, או כל בסיס נתונים אחר</li>
<li><strong>לוגים ניתנים לייצוא</strong> - אפשר לייצא את הלוגים ל-JSON דרך ממשק המשתמש הגרפי</li>
<li><strong>סטטיסטיקות בזמן אמת</strong> - כל הנתונים נגישים בזמן אמת דרך ממשק המשתמש הגרפי</li>
</ol>
<hr />
<h2>3. הוראות הפעלה מפורטות</h2>
<h3>3.1 התקנת תלויות</h3>
<p>לפני הפעלת השרת או הלקוח, צריך להתקין את התלויות הנדרשות:</p>
<pre><code class="language-bash">cd prt2
pip install -r ../requirements.txt
</code></pre>
<p>או אם יש קובץ requirements.txt בתיקיית prt2:</p>
<pre><code class="language-bash">cd prt2
pip install -r requirements.txt
</code></pre>
<p><strong>תלויות נדרשות:</strong><br />
- Python 3.7 ומעלה<br />
- tkinter (מגיע עם Python ברוב המקרים)<br />
- matplotlib (להפעלת גרפים ב-client GUI - אופציונלי)<br />
- playsound (להתראות קוליות ב-client GUI - אופציונלי, מותקן עם: <code>pip install playsound</code>)<br />
- pytest (לבדיקות - אופציונלי)</p>
<p><strong>הערה:</strong> במערכת macOS, tkinter מגיע עם Python. אם יש בעיות, אפשר להתקין דרך Homebrew או להשתמש ב-Python של Python.org.</p>
<hr />
<h3>3.2 הפעלת השרת</h3>
<h4>אפשרות 1: שרת עם ממשק גרפי (GUI) - מומלץ</h4>
<p>זו הדרך הקלה והנוחה ביותר להפעיל את השרת:</p>
<pre><code class="language-bash">cd prt2
python gui/server_gui.py
</code></pre>
<p>או עם python3:</p>
<pre><code class="language-bash">cd prt2
python3 gui/server_gui.py
</code></pre>
<p><strong>שלבים:</strong><br />
1. ייפתח חלון של ממשק המשתמש הגרפי<br />
2. בחלון "Server Settings" תוכל לראות:<br />
   - <strong>Host:</strong> ברירת המחדל היא <code>0.0.0.0</code> (מאזין לכל הממשקים)<br />
   - <strong>Port:</strong> ברירת המחדל היא <code>10000</code><br />
3. לחץ על כפתור <strong>"Start Server"</strong><br />
4. השרת יתחיל לעבוד וסטטוס ישתנה ל-"Status: Running" (ירוק)<br />
5. תראה הודעה ב-"Server Logs" שהשרת מאזין</p>
<p><strong>מה אפשר לראות בממשק:</strong><br />
- <strong>Statistics:</strong> מספר לקוחות מחוברים, מספר הודעות כולל<br />
- <strong>Connected Clients:</strong> טבלה עם כל הלקוחות המחוברים והפרטים שלהם<br />
- <strong>Server Logs:</strong> כל הפעילות של השרת בזמן אמת</p>
<p><strong>עצירת השרת:</strong><br />
לחץ על כפתור <strong>"Stop Server"</strong> כדי לעצור את השרת.</p>
<hr />
<h4>אפשרות 2: שרת אסינכרוני מהטרמינל</h4>
<p>אם אתה מעדיף להפעיל מהטרמינל בלי ממשק גרפי:</p>
<pre><code class="language-bash">cd prt2
python async_impl/server_async.py
</code></pre>
<p>או:</p>
<pre><code class="language-bash">cd prt2
python3 async_impl/server_async.py
</code></pre>
<p><strong>שלבים:</strong><br />
1. השרת יתחיל ועם Ctrl+C תוכל לראות הודעות בטרמינל<br />
2. כשהשרת עובד, תראה הודעה: <code>Server listening on 0.0.0.0:10000</code><br />
3. כל פעילות תוצג בטרמינל</p>
<p><strong>עצירת השרת:</strong><br />
לחץ <code>Ctrl+C</code> בטרמינל כדי לעצור את השרת.</p>
<hr />
<h4>אפשרות 3: שרת בסיסי (Threading)</h4>
<p>אם אתה רוצה להפעיל את השרת הבסיסי:</p>
<pre><code class="language-bash">cd prt2
python server.py
</code></pre>
<p><strong>הערה:</strong> השרת הבסיסי פחות מתקדם ולא תומך בכל התכונות (כמו צ'אט בין לקוחות).</p>
<hr />
<h3>3.3 הפעלת הלקוח</h3>
<h4>אפשרות 1: לקוח עם ממשק גרפי (GUI) - מומלץ</h4>
<p>זו הדרך הנוחה ביותר להפעיל את הלקוח:</p>
<pre><code class="language-bash">cd prt2
python gui/client_gui.py
</code></pre>
<p>או:</p>
<pre><code class="language-bash">cd prt2
python3 gui/client_gui.py
</code></pre>
<p><strong>שלבים לחיבור:</strong></p>
<ol>
<li><strong>פתיחת הממשק:</strong></li>
<li>
<p>ייפתח חלון של ממשק המשתמש הגרפי</p>
</li>
<li>
<p><strong>הגדרת חיבור:</strong></p>
</li>
<li><strong>Host:</strong> הכנס את כתובת ה-IP של השרת (ברירת מחדל: <code>192.168.0.106</code>)</li>
<li><strong>Port:</strong> הכנס את הפורט (ברירת מחדל: <code>10000</code>)</li>
<li>
<p><strong>Name:</strong> הכנס את השם שלך (חובה!)</p>
</li>
<li>
<p><strong>חיבור לשרת:</strong></p>
</li>
<li>לחץ על כפתור <strong>"Connect"</strong></li>
<li>אם החיבור הצליח, הסטטוס ישתנה ל-"Status: Connected" (ירוק)</li>
<li>
<p>תראה הודעות ב-"Messages &amp; Responses"</p>
</li>
<li>
<p><strong>שליחת הודעות:</strong></p>
</li>
</ol>
<p><strong>א. שליחת הודעה בודדת:</strong><br />
   - הקלד הודעה בשדה "Send Single Message"<br />
   - לחץ על כפתור <strong>"Send"</strong></p>
<p><strong>ב. שליחת הודעות מקובץ CSV:</strong><br />
   - לחץ על כפתור <strong>"Browse CSV"</strong> ובחר קובץ CSV<br />
   - אחרי שהקובץ נבחר, לחץ על <strong>"Send All Messages"</strong><br />
   - תראה התקדמות בשליחת ההודעות</p>
<ol>
<li><strong>שימוש בצ'אט פרטי:</strong></li>
<li>ברשימת המשתמשים, בחר משתמש ולחץ על כפתור <strong>"Chat"</strong></li>
<li>ייפתח חלון צ'אט נפרד עם המשתמש הנבחר</li>
<li>הקלד הודעות בשדה הקלט ולחץ <strong>"Send"</strong> או Enter</li>
<li>לסגירת הצ'אט, סגור את החלון או לחץ על <strong>"Disconnect Chat"</strong></li>
<li>
<p><strong>שימוש בקבוצות:</strong></p>
</li>
<li>יצירת קבוצה: הקלד בשדה הקלט <code>CREATE_GROUP:שם_הקבוצה</code> ולחץ Send</li>
<li>הצטרפות לקבוצה: בחר קבוצה מהרשימה ולחץ <strong>"Join & Chat"</strong></li>
<li>הזמנת משתמש: הקלד <code>INVITE_TO_GROUP:שם_הקבוצה:שם_המשתמש</code></li>
<li>הודעות קבוצתיות: ייפתח חלון צ'אט קבוצתי - כל הודעה תישלח לכל חברי הקבוצה</li>
<li>יציאה מקבוצה: הקלד <code>LEAVE_GROUP:שם_הקבוצה</code></li>
<li>
<p><strong>רשימות:</strong></p>
</li>
<li>רשימת משתמשים: הקלד <code>LIST_USERS</code> או השתמש ברשימה האוטומטית בממשק</li>
<li>רשימת קבוצות: הקלד <code>LIST_GROUPS</code> או השתמש ברשימה האוטומטית בממשק</li>
<li>
<p><strong>ניתוק:</strong></p>
</li>
<li>לחץ על כפתור <strong>"Disconnect"</strong> כדי להתנתק מהשרת</li>
</ol>
<p><strong>מה אפשר לראות בממשק:</strong><br />
- <strong>Users:</strong> רשימת כל המשתמשים המחוברים (מתעדכנת אוטומטית)<br />
- <strong>Groups:</strong> רשימת כל הקבוצות (מתעדכנת אוטומטית)<br />
- <strong>Chat Windows:</strong> חלונות נפרדים לכל צ'אט פרטי או קבוצתי<br />
- <strong>Messages:</strong> כל ההודעות שנשלחו והתגובות שהתקבלו<br />
- <strong>Statistics:</strong> סטטיסטיקות של השליחות והקבלות<br />
- <strong>Graphs:</strong> גרפים של הפעילות (אם matplotlib מותקן)</p>
<hr />
<h4>אפשרות 2: לקוח צ'אט אינטראקטיבי</h4>
<p>אם אתה רוצה להשתמש בלקוח צ'אט מהטרמינל:</p>
<pre><code class="language-bash">cd prt2
python async_impl/client_chat.py שם_שלך
</code></pre>
<p>או להשאיר את המערכת לבקש את השם:</p>
<pre><code class="language-bash">cd prt2
python async_impl/client_chat.py
</code></pre>
<p><strong>שלבים:</strong><br />
1. הלקוח יתחבר לשרת ויבקש שם (אם לא סופק בטעינה)<br />
2. אחרי הרישום, תוכל להקליד פקודות:<br />
   - <code>CONNECT:שם</code> - להתחבר עם לקוח אחר<br />
   - <code>DISCONNECT_CHAT</code> - לנתק צ'אט פעיל<br />
   - <code>CREATE_GROUP:שם</code> - ליצור קבוצה חדשה<br />
   - <code>JOIN_GROUP:שם</code> - להצטרף לקבוצה<br />
   - <code>LEAVE_GROUP:שם</code> - לעזוב קבוצה<br />
   - <code>INVITE_TO_GROUP:שם_קבוצה:שם_משתמש</code> - להזמין משתמש לקבוצה<br />
   - <code>GROUP:שם_קבוצה:הודעה</code> - לשלוח הודעה לקבוצה<br />
   - <code>LIST_USERS</code> - לראות רשימת משתמשים<br />
   - <code>LIST_GROUPS</code> - לראות רשימת קבוצות<br />
   - הודעה רגילה - לשלוח הודעה (לשותף הצ'אט אם מחובר, או לשרת)<br />
   - <code>quit</code> - להתנתק ולצאת</p>
<p><strong>דוגמה לשימוש:</strong></p>
<pre><code>[10:30:45] Connected to server at 192.168.0.106:10000
Server: welcome
Please send your name:
Server: Name registered: Alice
You can now send messages or use CONNECT:name to chat with another client

Commands:
  CONNECT:name - Connect to another client
  Type message and press Enter to send
  Type 'quit' to exit

[Alice]&gt; CONNECT:Bob
[Alice]&gt; Hello Bob!
[10:31:15] [Bob]: Hi Alice!
[Alice]&gt; quit
</code></pre>
<hr />
<h4>אפשרות 3: לקוח אסינכרוני מהטרמינל (עם CSV)</h4>
<p>אם אתה רוצה לשלוח הודעות מקובץ CSV מהטרמינל:</p>
<pre><code class="language-bash">cd prt2
python async_impl/client_async.py
</code></pre>
<p><strong>שלבים:</strong><br />
1. הלקוח יקרא את קובץ ה-CSV (<code>../prt1/group68_http_input.csv</code> כברירת מחדל)<br />
2. ישלח כל ההודעות מהקובץ לשרת<br />
3. יראה תגובות מהשרת בטרמינל<br />
4. בסיום, ייצא לוגים לקובץ JSON</p>
<p><strong>הערה:</strong> אפשר לשנות את הנתיב לקובץ ה-CSV בקוד.</p>
<hr />
<h4>אפשרות 4: לקוח בסיסי</h4>
<p>אם אתה רוצה להפעיל את הלקוח הבסיסי:</p>
<pre><code class="language-bash">cd prt2
python client.py
</code></pre>
<p><strong>הערה:</strong> הלקוח הבסיסי פחות מתקדם ולא תומך בכל התכונות.</p>
<hr />
<h3>3.4 תרחיש שימוש מלא - דוגמה</h3>
<p>הנה דוגמה מלאה לשימוש במערכת:</p>
<p><strong>שלב 1: הפעלת השרת</strong></p>
<p>פתח טרמינל אחד והפעל:</p>
<pre><code class="language-bash">cd prt2
python3 gui/server_gui.py
</code></pre>
<p>לחץ על "Start Server".</p>
<hr />
<p><strong>שלב 2: הפעלת לקוח ראשון</strong></p>
<p>פתח טרמינל שני והפעל:</p>
<pre><code class="language-bash">cd prt2
python3 gui/client_gui.py
</code></pre>
<ol>
<li>הכנס שם: <code>Alice</code></li>
<li>בדוק שה-Host נכון (אם השרת על אותה מכונה, אפשר להשאיר <code>192.168.0.106</code> או לשנות ל-<code>localhost</code>)</li>
<li>לחץ "Connect"</li>
</ol>
<hr />
<p><strong>שלב 3: הפעלת לקוח שני</strong></p>
<p>פתח טרמינל שלישי והפעל:</p>
<pre><code class="language-bash">cd prt2
python3 gui/client_gui.py
</code></pre>
<ol>
<li>הכנס שם: <code>Bob</code></li>
<li>לחץ "Connect"</li>
</ol>
<hr />
<p><strong>שלב 4: יצירת צ'אט פרטי</strong></p>
<p>בלקוח של Alice:<br />
1. ברשימת המשתמשים, בחר "Bob"<br />
2. לחץ על כפתור "Chat"<br />
3. ייפתח חלון צ'אט עם Bob</p>
<p>בלקוח של Bob:<br />
1. תראה הודעה ש-Alice התחברה אליך<br />
2. תוכל גם לפתוח צ'אט עם Alice</p>
<hr />
<p><strong>שלב 5: שליחת הודעות פרטיות</strong></p>
<p>בלקוח של Alice:<br />
1. בחלון הצ'אט עם Bob, הקלד: <code>Hello Bob!</code><br />
2. לחץ "Send" או Enter</p>
<p>בלקוח של Bob:<br />
1. בחלון הצ'אט עם Alice, תראה הודעה: <code>[Alice]: Hello Bob!</code></p>
<hr />
<p><strong>שלב 6: יצירת קבוצה</strong></p>
<p>בלקוח של Alice:<br />
1. בשדה הקלט הקלד: <code>CREATE_GROUP:team_alpha</code><br />
2. לחץ "Send"<br />
3. תראה הודעה שהקבוצה נוצרה<br />
4. הקבוצה תופיע ברשימת הקבוצות</p>
<hr />
<p><strong>שלב 7: הצטרפות לקבוצה</strong></p>
<p>בלקוח של Bob:<br />
1. ברשימת הקבוצות, בחר "team_alpha"<br />
2. לחץ על כפתור "Join & Chat"<br />
3. ייפתח חלון צ'אט קבוצתי</p>
<hr />
<p><strong>שלב 8: שליחת הודעות קבוצתיות</strong></p>
<p>בלקוח של Alice:<br />
1. בחלון הצ'אט הקבוצתי, הקלד: <code>Welcome to the team!</code><br />
2. לחץ "Send"</p>
<p>בלקוח של Bob:<br />
1. בחלון הצ'אט הקבוצתי, תראה: <code>[team_alpha] Alice: Welcome to the team!</code></p>
<hr />
<p><strong>שלב 6: בדיקת סטטיסטיקות</strong></p>
<p>בממשק השרת:<br />
1. תראה ב-"Connected Clients" שני לקוחות<br />
2. תראה ב-"Statistics" מספר הודעות<br />
3. ב-"Server Logs" תראה את כל הפעילות</p>
<hr />
<h3>3.5 פתרון בעיות נפוצות</h3>
<h4>בעיה: "Connection refused" או "Server is not responding"</h4>
<p><strong>פתרון:</strong><br />
1. וודא שהשרת פועל<br />
2. וודא שה-Host וה-Port נכונים<br />
3. אם השרת על אותה מכונה, נסה <code>localhost</code> או <code>127.0.0.1</code> במקום כתובת IP<br />
4. וודא שאין firewall שחוסם את הפורט</p>
<hr />
<h4>בעיה: "Name is already in use"</h4>
<p><strong>פתרון:</strong><br />
1. השתמש בשם אחר<br />
2. או נסה להתחבר מחדש (ייתכן שהחיבור הקודם לא נוקה כראוי)</p>
<hr />
<h4>בעיה: טרמינל מחזיר שגיאה על tkinter</h4>
<p><strong>פתרון (macOS):</strong></p>
<pre><code class="language-bash"># אם משתמשים ב-Python מ-Homebrew, אפשר להתקין:
brew install python-tk

# או להשתמש ב-Python של Python.org
</code></pre>
<hr />
<h4>בעיה: matplotlib לא עובד (גרפים לא מופיעים)</h4>
<p><strong>פתרון:</strong></p>
<pre><code class="language-bash">pip install matplotlib
</code></pre>
<p>או:</p>
<pre><code class="language-bash">pip3 install matplotlib
</code></pre>
<p><strong>הערה:</strong> הגרפים הם תכונה אופציונלית - המערכת תעבוד גם בלי זה.</p>
<hr />
<h4>בעיה: השרת לא מאזין על 0.0.0.0</h4>
<p><strong>פתרון:</strong><br />
1. אם אתה רוצה שרק מחשבים מקומיים יוכלו להתחבר, שנה ל-<code>127.0.0.1</code> או <code>localhost</code><br />
2. אם אתה רוצה שכל המחשבים ברשת יוכלו להתחבר, השאר <code>0.0.0.0</code></p>
<hr />
<h3>3.6 הערות נוספות</h3>
<ol>
<li>
<p><strong>מספר לקוחות:</strong> השרת תומך במספר לא מוגבל של לקוחות (תלוי במשאבי המחשב)</p>
</li>
<li>
<p><strong>ביצועים:</strong> השרת האסינכרוני (<code>server_async.py</code>) יעיל יותר מהשרת הבסיסי (<code>server.py</code>)</p>
</li>
<li>
<p><strong>לוגים:</strong> כל הלוגים נשמרים בזיכרון ויכולים להיות מיוצאים ל-JSON דרך ממשק המשתמש הגרפי</p>
</li>
<li>
<p><strong>הגדרות:</strong> אפשר לשנות הגדרות בקובץ <code>utils/config.json</code></p>
</li>
<li>
<p><strong>צ'אט פרטי:</strong> רק שני לקוחות יכולים להיות בצ'אט פרטי אחד בכל זמן. אם לקוח מתחבר עם לקוח חדש, החיבור הקודם נסגר. ניתן לנתק צ'אט עם <code>DISCONNECT_CHAT</code></p>
</li>
<li>
<p><strong>קבוצות:</strong> לקוחות יכולים ליצור קבוצות, להצטרף אליהן, להזמין אחרים, ולשלוח הודעות קבוצתיות. כל חבר בקבוצה מקבל את כל ההודעות הקבוצתיות</p>
</li>
<li>
<p><strong>רשימות:</strong> ניתן לראות רשימת משתמשים עם <code>LIST_USERS</code> ורשימת קבוצות עם <code>LIST_GROUPS</code>. בממשק הגרפי הרשימות מתעדכנות אוטומטית</p>
</li>
<li>
<p><strong>נתונים:</strong> כל הנתונים נשמרים בזיכרון - כשהשרת נסגר, הנתונים נעלמים. אם צריך לשמור נתונים, צריך להשתמש בפונקציית ייצוא הלוגים</p>
</li>
</ol>
<hr />
<h2>סיכום</h2>
<p>הפרויקט כולל:<br />
- שרת אסינכרוני מתקדם עם תמיכה מלאה בצ'אט פרטי וקבוצתי<br />
- מערכת קבוצות מלאה (יצירה, הצטרפות, הזמנות, הודעות קבוצתיות)<br />
- לקוח אסינכרוני עם תמיכה בשליחת הודעות מ-CSV<br />
- ממשק משתמש גרפי מלא לשרת ולקוח עם תמיכה בעיצוב מודרני<br />
- חלונות צ'אט נפרדים לכל שיחה פרטית או קבוצתית<br />
- רשימות משתמשים וקבוצות עם רענון אוטומטי<br />
- התראות קוליות על הודעות חדשות<br />
- מערכת לוגים וסטטיסטיקות מתקדמת<br />
- ויזואליזציה של הרשת בממשק השרת<br />
- כל הנתונים נשמרים בזיכרון (לא בסיס נתונים)</p>
<p>הדרך הנוחה ביותר להפעיל היא באמצעות ממשק המשתמש הגרפי - פשוט להפעיל את <code>server_gui.py</code> ולאחר מכן את <code>client_gui.py</code>.</p>
